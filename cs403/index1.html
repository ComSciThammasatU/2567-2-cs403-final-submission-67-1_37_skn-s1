<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TRASH HAS VALUE (องค์กร)</title> <!-- เปลี่ยน Title ให้สื่อถึงหน้าสำหรับองค์กร -->
    <link rel="icon" href="image/user1.png"  type="image/x-icon">
    <!-- swiper -->
    <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
  />

    <!-- box icon import -->
     <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <!-- css -->
    <link rel="stylesheet" href="css/index.css">
    <link rel="stylesheet" href="css/preloader.css">
    <link rel="stylesheet" href="css/navigationbar.css">
     <link rel="stylesheet" href="css/footer.css">
     <!-- css page -->
      <link rel="stylesheet" href="./css/pageStyle/home.css">
</head>
<body>

    <!-- NAVIGATION BAR -->
    <!-- โครงสร้างนี้แสดงผลเหมือนผู้ใช้ (องค์กร) ล็อกอินแล้ว -->
    <nav>
        <div class="container">
            <a href="index1.html" class="logo"> <!-- ลิงก์หน้าหลักสำหรับองค์กร -->
                <p>TRASH HAS VALUE</p>
            </a>
            <div class="rightBx">
                <ul class="navBx">
                    <!-- รายการเมนูอื่นๆ (ถ้ามี) -->
                </ul>
                <div class="burgerBar burgetBarClick" onclick="controlAllBtnNavigation('navBurger')">
                    <i class='bx bx-menu'></i>
                    <i class='bx bx-x'></i>
                </div>

                <!-- ส่วนที่แสดงเมื่อผู้ใช้ล็อกอินแล้ว -->
                <div class="user_Actions" style="display: flex; align-items: center; gap: 10px; margin-left: 15px;">
                    <!-- ปุ่มชื่อผู้ใช้ ลิงก์ไป account.html -->
                    <a href="account.html" id="userAccountLink" class="btn userAccBtn" style="padding: 8px 12px; text-decoration: none; background-color: #007bff; color: white;">
                        <!-- ชื่อผู้ใช้จะถูกใส่โดย JavaScript -->
                        กำลังโหลด...
                    </a>
                    <!-- ปุ่ม การรับซื้อทั้งหมด ลิงก์ไป Allbuy.html -->
                    <a href="Allbuy.html" class="btn addAddressBtn" style="padding: 8px 12px; background-color: #28a745; color: white; text-decoration: none;">การรับซื้อทั้งหมด</a>
                    <!-- *** ปุ่ม สถานะ ที่เพิ่มเข้ามา *** -->
                    <a href="status_org.html" class="btn statusBtn" style="padding: 8px 12px; background-color: #ffc107; color: black; text-decoration: none;">สถานะ</a>
                    <!-- ปุ่ม ออกจากระบบ -->
                    <a href="#" class="btn logoutBtn" onclick="logout()" style="padding: 8px 12px; background-color: #dc3545; color: white; text-decoration: none;">ออกจากระบบ</a>
                </div>

                <!-- ซ่อนปุ่ม ลงทะเบียน/ล็อกอิน (เพราะสมมติว่าผู้ใช้ล็อกอินแล้ว) -->
                <div class="signup_And_login_BtnBx" style="display: none;">
                    <a href="signup.html" class="btn signUpBtn">ลงทะเบียน</a>
                    <a href="login.html" class="btn loginBtn">ล็อกอิน</a>
                </div>


            </div>
        </div>
    </nav>
    <!-- END NAVIGATION BAR -->

    <!-- BANNER SECTION (ปรับปรุงสำหรับองค์กร) -->
    <section class="banner">
         <div class="swiper bannerSwiper">
             <div class="swiper-wrapper">
               <div class="swiper-slide bannerSlide slide1">
                 <div class="container">
                     <div class="content">
                         <h1>ยินดีต้อนรับองค์กร!</h1>
                         <p class="description">แพลตฟอร์มสำหรับองค์กรในการรับซื้อวัสดุรีไซเคิล ช่วยสนับสนุนการจัดการขยะอย่างยั่งยืน และสร้างโอกาสทางธุรกิจ</p>
                         <div class="btnBx">
                            <a href="#service-section" class="btn1">ดูรายการรับซื้อ</a> <!-- เปลี่ยน href เป็น #service-section -->
                            <!-- <a href="#" class="btn2">จัดการข้อมูล</a> -->
                        </div>
                     </div>
                     <div class="imageSpin"><img src="./image/pas.png" alt=""></div>
                 </div>
               </div>
               <!-- สามารถเพิ่ม Slide อื่นๆ ได้ตามต้องการ -->
             </div>
             <div class="swiper-button-next"></div>
             <div class="swiper-button-prev"></div>
             <div class="swiper-pagination"></div>
           </div>
    </section>
    <!-- END BANNER SECTION -->

    <!----- SERVICE SECTION ---->
    <section class="service" id="service-section"> <!-- เพิ่ม id ที่นี่ -->
        <div class="container">
            <p class="miniTx"><center>รายการทั้งหมด</center></p>
            <h2 class="headerTx"><center>ประเภทขยะที่สามารถ ซื้อ ได้</center></h2>
             <!-- index1.html -->
            <section class="garbageType" id="garbageType">
             <div class="container">
               <!-- <div class="title">ประเภทขยะที่สามารถ ซื้อ ได้</div> --> <!-- อาจจะซ้ำซ้อนกับ h2 ด้านบน -->
              <!-- ... (เนื้อหาอื่น ๆ ในส่วนนี้) ... -->
            <h1><center><br></center></h1>
            <div class="serviceBox">
                <div class="serviceDetail">
                    <a href="./buyplastic.html" class="member_btn"><div class="icon"><img src="./image/pas5.png" alt=""></div></a>
                    <div class="header">พลาสติก</div>
                    <div class="detail"><center>ขวดน้ำ pet | พลาสติกที่ยืดได้ | พลาสติก hdpe | ขวดยาคูล | กล่องอาหาร</center></div>
                </div>
                <div class="serviceDetail">
                    <a href="./buypaper1.html" class="member_btn"><div class="icon"><img src="./image/pas6.png" alt=""></div></a> <!-- แก้ลิงก์ -->
                    <div class="header">กระดาษ </div>
                    <div class="detail"><center>กล่องนม น้ำ | กระดาษลัง | กระดาษฝอย,ขาว</center></div>
                </div>
                <div class="serviceDetail">
                    <a href="./buyplastic.html" class="member_btn"><div class="icon"><img src="./image/pas7.png" alt=""></div></a> <!-- แก้ลิงก์ -->
                    <div class="header">กระป๋อง</div>
                    <div class="detail"><center>อลูมิเนียม</center></div>
                </div>
                <div class="serviceDetail">
                    <a href="./buyplastic.html" class="member_btn"><div class="icon"><img src="./image/pas8.png" alt=""></div></a> <!-- แก้ลิงก์ -->
                    <div class="header">โฟม</div>
                    <div class="detail"><center>ไม่มีแยกประเภท</center></div>
                </div>
                <div class="">
                    <!-- Empty div? -->
                </div>
                <div class="serviceDetail">
                    <a href="./construction.html" class="member_btn"><div class="icon"><img src="./image/pas9.png" alt=""></div></a> <!-- แก้ลิงก์ -->
                    <div class="header">ขยะจากการก่อสร้าง</div>
                    <div class="detail"><center>เหล็กรวม | ถังสี</center></div>
                </div>
                <div class="serviceDetail">
                    <a href="./others.html" class="member_btn"><div class="icon"><img src="./image/pas10.png" alt=""></div></a> <!-- แก้ลิงก์ -->
                    <div class="header">อื่นๆ</div>
                    <div class="detail"><center>น้ำมัน  | อิเลกทรอนิค</center></div>
                </div>
            </div>
        </div>
        </section> <!-- ปิด garbageType -->
        </div> <!-- ปิด container ของ service -->
    </section>
    <!-- END SERVICE SECTION -->

    <!----- DISCOUNT SECTION ---->
    <section class="discountMember">
        <div class="container">
            <div class="content">
                <h2>“ขอบคุณที่มาเยี่ยมชมเว็บไซต์ซื้อขายวัสดุรีไซเคิลของเรา! ♻️✨ หวังว่าแพลตฟอร์มนี้จะช่วยให้การซื้อขายขยะรีไซเคิลเป็นเรื่องง่าย สร้างรายได้ และช่วยรักษาสิ่งแวดล้อมไปพร้อมกัน 🌍 อย่าลืมกลับมาเยี่ยมชมอีกนะ!”</h2>
                <a href="index1.html" class="member_btn">กลับสู่หน้าหลัก</a>
            </div>
        </div>
    </section>
    <!-- END DISCOUNT SECTION -->

    

   <!-- import box icon -->
    <script src="https://unpkg.com/boxicons@2.1.4/dist/boxicons.js"></script>
    <!-- import Swiper script -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <!-- import SweetAlert 2 -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <!--All script -->
    <script src="./js/swiperScript/allSwiper.js"></script>
    <!-- <script src="./js/navigationBar.js"></script> --> <!-- ไม่ต้องโหลด navigationBar.js ถ้าใช้ HTML ด้านบน -->
    <script src="./js/footer.js"></script>
    <script src="./js/pageScript/home.js"></script>

    <!-- JavaScript สำหรับดึงชื่อผู้ใช้และ Logout -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // --- ส่วนจัดการ Navigation Bar ---
            const userDataString = sessionStorage.getItem('userData');
            const userAccountLink = document.getElementById('userAccountLink');
            const userActionsDiv = document.querySelector('.user_Actions');
            const loginSignupDiv = document.querySelector('.signup_And_login_BtnBx');

            if (userDataString && userAccountLink) {
                try {
                    const userData = JSON.parse(userDataString)[0]; // ดึงข้อมูลผู้ใช้
                    if (userData && userData.firstname) {
                        userAccountLink.textContent = userData.firstname; // แสดงชื่อผู้ใช้/ชื่อองค์กร
                    } else {
                        userAccountLink.textContent = 'บัญชีผู้ใช้'; // ข้อความสำรอง
                    }
                    // แสดงส่วนของ user actions และซ่อนปุ่ม login/signup (ตาม HTML ด้านบน)
                    if(userActionsDiv) userActionsDiv.style.display = 'flex';
                    if(loginSignupDiv) loginSignupDiv.style.display = 'none';

                } catch (error) {
                    console.error("Error parsing user data:", error);
                    if (userAccountLink) userAccountLink.textContent = 'บัญชีผู้ใช้'; // ข้อความสำรองกรณีมีปัญหา
                    // ถ้ามีปัญหาในการโหลดชื่อ อาจจะยังคงแสดงปุ่มตาม HTML ด้านบน หรือจะซ่อน/แสดงปุ่ม login/signup ก็ได้
                    // if(userActionsDiv) userActionsDiv.style.display = 'none';
                    // if(loginSignupDiv) loginSignupDiv.style.display = 'flex';
                }
            } else {
                 // กรณีไม่พบข้อมูลผู้ใช้ใน sessionStorage (อาจจะยังไม่ได้ล็อกอินจริงๆ)
                 // ซ่อนส่วน user_Actions และแสดงปุ่ม Login/Signup แทน
                 if(userActionsDiv) userActionsDiv.style.display = 'none';
                 if(loginSignupDiv) loginSignupDiv.style.display = 'flex'; // หรือ 'block' ตามการออกแบบเดิม
                 // อาจจะ redirect ไปหน้า login ถ้าหน้านี้ต้องการการล็อกอินเสมอ
                 // window.location.href = 'login.html';
            }

            // --- ส่วนอื่นๆ ของ home.js (ถ้ามี) ---
            // เช่น การจัดการ Swiper, Smooth Scroll
            // ตรวจสอบว่า element ที่ home.js ต้องการมีอยู่จริงก่อนเรียกใช้
            // if (document.getElementById("scrollToService")) { ... }

            // เรียกใช้ฟังก์ชันอื่นๆ จาก allSwiper.js หรือ home.js ตามต้องการ
            if (typeof initializeSwipers === 'function') { // สมมติว่ามีฟังก์ชันนี้ใน allSwiper.js
                initializeSwipers();
            }
        });

        function logout() {
            sessionStorage.removeItem('userData');
            // Redirect ไปหน้า login หรือ index หลัก
            window.location.href = 'login.html';
        }

        // ฟังก์ชัน controlAllBtnNavigation (ถ้ายังต้องใช้ และไม่ได้อยู่ใน navigationBar.js)
        function controlAllBtnNavigation(type) {
            // ใส่โค้ดการทำงานของ controlAllBtnNavigation ที่นี่
            console.log("Control button clicked:", type);
            // ตัวอย่าง: การเปิด/ปิดเมนู Burger
            const navBx = document.querySelector('.navBx');
            const burgerBar = document.querySelector('.burgerBar');
            if (type === 'navBurger' && navBx && burgerBar) {
                navBx.classList.toggle('active');
                burgerBar.classList.toggle('active');
            }
            // เพิ่มการจัดการสำหรับ 'cart', 'wishlist' ถ้าจำเป็น
        }
    </script>

</body>
</html>
